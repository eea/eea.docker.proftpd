<IfModule mod_ldap.c>
  LDAPServer ldap://%{env:LDAPSERVER}/??sub
  LDAPDoAuth on "uid=%v,ou=Users,o=EIONET,l=Europe" "(&(uid=%v)(objectclass=inetOrgPerson))"
  LDAPAuthBinds on
  LDAPDefaultGID 48
  LDAPForceDefaultGID on
  LDAPDefaultUID 48
  LDAPForceDefaultUID on
  LDAPGenerateHomeDir on
  LDAPGenerateHomedirPrefix %{env:LDAPGENERATEHOMEDIRPREFIX}
  LDAPGenerateHomedirPrefixNoUsername yes
  LDAPAttr gidNumber "cn"
  LDAPDoGIDLookups on "ou=Roles,o=EIONET,l=Europe" "(&(cn=%v)(objectclass=groupOfUniqueNames))" "(&(cn=%v)(objectclass=groupOfUniqueNames))" "(uniqueMember=uid=%v,ou=Users,o=EIONET,l=Europe)"
</IfModule>

<IfDefine TLS>
  TLSEngine                     on
  TLSRequired                   on
  TLSProtocol                   SSLv3 TLSv1
  TLSRSACertificateFile         %{env:TLSCACERTIFICATEPATH}/server.crt
  TLSRSACertificateKeyFile      %{env:TLSCACERTIFICATEPATH}/server.key
  TLSCACertificatePath          %{env:TLSCACERTIFICATEPATH}
  TLSCipherSuite                ALL:!ADH:!DES
#  TLSOptions                   NoCertRequest
  TLSOptions                    UseImplicitSSL NoSessionReuseRequired
  TLSVerifyClient               off
  #TLSRenegotiate               ctrl 3600 data 512000 required off timeout 300
  TLSLog                        /var/log/proftpd/tls.log
  <IfModule mod_tls_shmcache.c>
    TLSSessionCache             shm:/file=/var/run/proftpd/sesscache
  </IfModule>
</IfDefine>
